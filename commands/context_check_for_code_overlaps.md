It seems that there is overlapping code between the following $ARGUMENTS.
I want you to study it and if you confirm it, I want you to suggest an approach to refactor the code to avoid the overlap.
